using UnityEngine;

namespace MyProject.Interact
{
    /// Interface για όλα τα αλληλεπιδραστικά αντικείμενα στο παιχνίδι.
    /// Κάθε αντικείμενο με το οποίο μπορεί να αλληλεπιδράσει ο παίκτης πρέπει να υλοποιεί αυτό το interface.
    /// Το Interactor script ανιχνεύει αντικείμενα που υλοποιούν το IInteractable μέσω raycast
    /// και καλεί τις κατάλληλες μεθόδους βάσει του input του παίκτη και της κατεύθυνσης του βλέμματος.
    ///
    /// Κύκλος ζωής:
    /// 1. Ο παίκτης κοιτάζει το αντικείμενο → OnReadyInteract()
    /// 2. Ο παίκτης πατάει Interact → OnInteract(interactor)
    /// 3. Ο παίκτης αφήνει/ακυρώνει → OnEndInteract()
    /// 4. Ο παίκτης κοιτάζει αλλού → OnAbortInteract()
    public interface IInteractable
    {
        /// Το κείμενο που εμφανίζεται στον παίκτη όταν κοιτάζει αυτό το αντικείμενο.
        /// Παράδειγμα: "Διάβασε Πινακίδα", "Άνοιξε Πόρτα", "Τράβα Μοχλό"
        /// Αυτή η ιδιότητα επιτρέπει στον Interactor να εμφανίζει prompts ανάλογα με το context.
        string InteractionPrompt { get; }

        /// Καλείται όταν ο παίκτης πατήσει το κουμπί αλληλεπίδρασης ενώ κοιτάζει αυτό το αντικείμενο.
        /// Η αναφορά στον Interactor επιτρέπει στο αντικείμενο να στείλει δεδομένα πίσω (π.χ. μηνύματα κειμένου).
        /// <param name="interactor">Αναφορά στον Interactor που ξεκίνησε την αλληλεπίδραση.</param>
        void OnInteract(Interactor interactor);

        /// Καλείται όταν τελειώνει μια ενεργή αλληλεπίδραση, είτε από input του παίκτη είτε από αναγκαστική ακύρωση.
        /// Χρησιμοποιήστε το για καθαρισμό κατάστασης αλληλεπίδρασης (π.χ. κλείσιμο UI, διακοπή animations).
        void OnEndInteract();

        /// Καλείται όταν το βλέμμα του παίκτη εισέρχεται σε αυτό το αντικείμενο (έτοιμο για αλληλεπίδραση).
        /// Χρησιμοποιήστε το για να δείξετε οπτική ένδειξη ότι το αντικείμενο μπορεί να αλληλεπιδράσει.
        void OnReadyInteract();

        /// Καλείται όταν το βλέμμα του παίκτη φεύγει από αυτό το αντικείμενο πριν την αλληλεπίδραση.
        /// Χρησιμοποιήστε το για να κρύψετε οποιαδήποτε οπτική ένδειξη εμφανίστηκε στο OnReadyInteract().
        void OnAbortInteract();
    }
}
